{"hash":"b4f645a8cb8b1f05cb4e94dd48f10b91fb2ce4e7","data":{"markdownPage":{"id":"4bd647b653e38c191d43ab56743e5f50","title":"Architecture","description":"Learn about architecture of TradeBot","path":"/docs/trade-bot/architecture/","timeToRead":1,"content":"<h1 id=\"architecture\"><a href=\"#architecture\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Architecture</h1>\n<p><code>TradeBot</code> is the server side software for processing exchange data and automatically planning orders. </p>\n<p>You can find TradeBot repository here: <a href=\"https://github.com/badlabs/trade-bot--tinkoff\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/badlabs/trade-bot--tinkoff</a>.</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1122 952' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-586f0b7209d1df1c60b758eec7eb6aec'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-586f0b7209d1df1c60b758eec7eb6aec)' width='1122' height='952' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA2CAYAAAB3Ep8CAAAACXBIWXMAAAsSAAALEgHS3X78AAAQTElEQVRo3uVb93fbOLqd//9v2DM7W97b2ezsJpvuOLZ6I0X13q0u2VYvlGT7vvuBlCwnSmynzZzzfrgHJAiAwsVXAeqn2fIKvdEa/fGPRXdo8r0r9InO5fLHvp/zbV/MMVtu8JNMPlFfIdveINNaf3dkiXTDhCtSx3%2bOdDw9NnCilZGqL/nssb/hce3TzTXy3RuEMj04PBp6XISfhBGZfLF3hULvGrneDfJE7iuw37/Qh8L%2bM0G2c4VjTvxYKyHT2SC/1%2bZzY8pYRRmTv7XQvXo0iuyXbS0RLV4oSVAECDsyYCXfQSeeRztZ/Cq0EgX0MhV0UiWcRbMKct9NldWzbbt%2btsr66oPH7SSt8YpGGsXKQJFSEPIeCCFASkVC51qp/o4AYVcmv9H9WIVDD8La0D7CKqxhY%2bi4cDmQ/s9v8P7lZwT%2b%2bgtyz/6Nsc/NZ9rtGHrQwoPeF8RNREft5BjpgBflbENJTcGe2EOgiLCvRR3uECBsCsvysmXEIML3YsG2C07gQ5icZPP9EUqvnqPw4imq794i9/IFzj1urGIRLI3wg8Y/hDn7TvUQqrk2co8kYEuCIqC1/lgCbgkIw7Sx5GoK9q%2bXhoGF4cE658C64CZcdune3aPiwzzrwiDl4qS9uE7EsYoau7G245l777oP2/byG6t5EtD7AQTsv1wmsFaI4joVwE0rCHQjhGGVPRsd3vcjqCecFNUIZuH3lAqRqgOT35L6CCkwtwT0fxAB2x87DgYw8Hlw6fUi/eIfuK771WQ39SDKgWdInf4TiZNfkXX/xroQCWK/qhczw4GZrmHOsWcU3wXtxB3pEnLFNnwWuoL5ownYV4Ge24mh34tRIEC9fmoR0LYIKPqfIvzmb4qAtPMJFlQBJQltnXrrwFxnGdYUplpwN/5K9JoYUUVGidhtGbdh142TcQxpP%2bZCxI8mYFuee1y81pUKXCX9XOGAJfKiAudR4CLGMmZd9wxbNUhg1KlUYDvmhASIFCw45oLXbV6PpjOMJxOF6WyG6ZyRGjGZTtV9PJlENp3GOMz3/14S0CcBlviKEfTBTDqxSrth0tAp8H53LcaPz9YZF/v7LMtvj7OwpUCs%2bTToR1MLYb5YYM4JL5dLnJ%2bfo91qodVqYnB5CdM00el00K7XMfk9JOAwAX4sYydYxk8t8HqxB5N1s8h7jMLvFAGmcXesnQrwXsRbVnlJEjqdNsLhMLRQCCEiSmkbDgZYrVaYsByHtT8CARGs4z7cNGkDumHquk6rb1l%2bBRF/3p%2bRhGwiSL1/r/psvYAYwnEooFRhHPChGvBjzlWW1RcVuOCqC86J4WikVGHB5%2bPhUKnA70sALfKSK9R2vsJNI6CM4E1TRy/xDo3wK9SJVuSN8gCrOo1eTXTdsVMBwcQ2gpZL03BJ1zro9zHsdTFiOaYKbDE6l/oehqy/aDQw%2bV0lgF5AyoHPB/3Jz7huWF5AJptyPIHn2Z8QfPkLkqe/4rqpUTIoHW2NccApdV5TKz%2b1DeC%2bgRVjOAtrO0wFuoX9esF3iwPyHxCww17Y2ne7lBhfkoBFxM3JMRDqWIHPFSe8bjBmp0vcqMmTGIWPvYC5P65dPjga3Cfgm0eCzNQ2TDpWEX0XeOzjghIgQcnQ52VQ9B7XxRNclZyEA9dlJ25syLXUWTjl5KVf%2bKOg5osgbpj5Ri3X%2bvYS0EhV6GYMjKMxjCMfo%2bnxqrLjD%2bA8RF3m9ciIHMTYiKpyGJb7KPtFD475WIyk5LiVQneXDn8TAmQ/IF%2bbIlc4R654cRBGtKrKWLKBZKaDQmlwsF3eLovlAcrVkUKhdPnJcR%2bDIt%2bZz/eQbyzuTOibSEAzVabL0jGlyzqEttutyp7fj0v66Dl99MG2XCF51vZ4kH39BpnXr3ERDGIm7Y3IJ8f/LNhvwf4Nrw9FTUc533n0fsCDbYAZOax7Fx6nKodMiKYhP0PisGUvPoDsB1zFDNSO3sD9y89w/vwndBzvVZ1pj/VY3Vdj0l226YprjCEqtAH7BOQfuTP0cC%2bw2/zQ0XU5VDJz7nVjyABG3JeV4IQ/AUZ5IQY7IckCdXW/TYhuxzY%2bD8PGXkpukvx9N7hTg949sNsUHxoH7CdCErx0nKfKl0tStCNAl8l5CLfCdA9yPw972M7L4EnufWyvWcmQGltiDO8dLD7AKuIj5Fnws24w314jW18iZyN7APnmis9M1Sfd2jyOgO3ErUDIowiQnGCuUxUKp4wK/biqeXFTZxosAdIeJtkT5BkNTqInSpwtKZCxg1iX6E7P7va9qfuta4ba58lj5PVj5hdOWxLYj26wKm5QdovblgHPVmcoxpqoJDsoJ9uopDqopXuoprvqvprqQvcmYQSTKDRMpNtfSMDSXvUupUH2%2bHquYyyLTsb/UYXrFttXAzDPuMpVEtCPseQPzjINjjtU6CsRnaiUGQ3huu5hPhG19hUaJKbiU/2XtYBKp0cl6nvKz0zTgzVd6Yp2RDZfzwr0QudQ4lxkWThboJpo4izdQT3TRSXRQEYrohCpoppsoZntI6FlkAynUfwaAiyRt3Z1ZBVnmg%2bbsktFfsOsAzn3b9Be/wWBl39WoXE19BwbkiHJ0SrNVbRtgKjCuc%2bBVcWhJi9hc87zb%2bhv/qr6G2//hnU9aO0pdIIYhI4Yibppf1w4d50iZeRhlMeI0i3qhQs8e0W7wJUWAiok4v1zF/7762s8/d%2bXOP6vE6V4Q5FQidN41hfItK%2b%2bjACJ5eVa6haM7kQFNmWuYi%2bGi/QpuvFjJkSvcaa/Qjt2hFb0rVpRkQ4zTQnSbwnoeU6xqgp5URVSD7JOnKdOUNNeoRN/pyTjpiW5Bu2GcYJJyCJ/RiNYStfVKmYbS/7%2bFeK5C0pAC/UsRZ6rrzmiiPszMNwJ%2bI41qseZelaJN7%2bMANm8uPC6d6u/Um3EQgewKZ3wR0piFFCrhW7IgroOqrT5pkVjljrFXGNCRB2WHGAcolhX3qmdpeuG925/llJ3zb7XDTdtgCRUojZhdfZQ24sDin3agtoCpUgdVU5QEUHdP6MdqFP3G2ILWCfPikYd%2bbMHEaDv8vetBMieoOTxMgFJi9W2lpwNRGjpox5VmjEvU1Ynur4jdS31S5bLGJ9F/Grl53Y2qGKGqNVHsJS2UWus5X696nsreYe8QI5SkKMhzNVmqsxWp7eoTO88K9Bw3uMFDLWDo6B2fyyfPgr4afwchBN9GkDJDiVF7rs9NIZu1rup42xPzDTpL4cgFkzmA7Ipso0DthmhqZ59Grd9DUtyDqTDKg4QPy/G8B4wmlbnoB%2bdDN0lQBDcYWHI7o0X65iGQcCNMa83UT9/XMgKTNhmE9dwQaM2CkrKLFLiU6WoyIrWfhnmakZCyvrP97fFpY16T2DXfoeI9A2qvvIuUcNP7QfkaNmzxTFyJQtZQXFklXt16fxQSUDmkxKg86X5d3RPbmxqLvpoN328h37Zo0qpG6TfIqO/xTzpoFFj%2blx4p9zZuso0%2bMx1215cHK9HmSMUo6fMMo8ZQgeUG9zaj3XpiO/wMA5w7dpv%2b6PpRT95hILxDsu4k1Jlq%2bUHKiA2QNxgOdpAjS5P9F30v5ER/e%2byrk1b0EHIGUY4ELnHDYpVr7itjQ768Js2w%2bAK/XAtiHmZwcl5HKuzEMqpABZprwpKriq2L1dW22ovfnzOUrzDknFAPU%2bfThIkh7CiQEOtvExeeQG6QhU7SF96jVnZOlcYMw6oZSgFCRpgTbtDgBjBfFu%2bbVgjIoaOk9/GARm9hMCJgTC9QM6ooJFlBhmtIGuUUGBU%2bFkC1iWXOuoaZk%2bRcf1LbXOJfw68%2bDNK/mdYqSAlBDNFY0efPM%2bfKDe3ZBCTcT1RbQVBxgISB4AkyvmAxAGmLf4qt/CcwKyc7uKAZuS16iPvyTif4Kph7SyBXsKMu9S22paAGglIc/W1TA/h4iWevwmqOEAmLy7v%2ba9v8OKfb1X58l/vVBzQYBxQjbfvcYNCQNmtJiQ%2bWfx4M/JG%2bfRu4pj%2b/aVaJdkNXmXc6mBjo9rHKCFe1b4TP1J9egxjO%2bx33dIVoaYEQkqP6Va1kNLxqzO3NUnCJLHSvh17i2nJo/qIRN20SDYlYEcAx5BIMMEYIF4ZoUTDJqsqbq6e6Sg1yFICSiRCIsF0qKDq5FmFRNxPQMmhXiobmmrbu2utoCp71kan8uv2hDZlhwpWoCZqTWa/vGmE1HM5OFnq1unyNKQrw7ah3ZBd5Wu2gewldu2%2brW2dzucfSMCOAJMEjFUoLLlAIdZCibmAoEKVKDMGqBBVXm/r8zGJBJefiwOCasPTjDHs9L2lwXIodLyv6bO54hFOIupSG53LiM%2b25HR/THQWCUpH4vVHWCZtMLqTiawSLpXcmAmOkXh1%2b3y/D2Em32AWe4l5lG0Mv9olPkiA7GZRHXIyjx1WH%2bD2WaG7uScdpu9d0WefM/aeb1dM21puw9rh3UJtgFD/oz56Aq/Sd9kmPwTR84v0MWLHf0f85H%2bQdT9RduNQH6lb13yIhpxUJY9aGIuA8CcJePB3Qg/ZD5BQd5v8COszPbiLDvdhEUBiogxbGz56DcPS2/YBtCyUg88RPf4H%2bqn3ytscai8EiBEcVfjuHCUyHLiXgK/aEfosAXYucBu87O/V3xJw0/DtDkM%2bDd0%2bOos8oK2mssjrkkSYQfWNwddKwJcREAnfJWAfEUtFTBKwpk%2bfNRKYNW00PoBdNzmLYVbTeB2/p20cE14vcuI%2bv40KfLEESCKy%2btSJDQlYxXx0j251kjuZzTGeyLm%2bnPEvFOR6vjRRLFUQjSfQLkYxHg0xmX7cdjKdYb5YIpvLI5nOYMh4Y23sERD%2bwQTsf9QwPwRd9uq4%2bgygJpzUYrEg5ri8vES9Xldot9uqXs775ay/X%2bEKT0bqu4DtNwHNZgNnZ2fo9XpYmaaq6/D6PH6KBd2zFTv8YAmY2QTIROV6fgCy4yup8LTIdHk4wGwmHzowPy%2bVoPOZIB6n2M9mihg14WqSZA2w5ESr1SoCgQCMcFi1jdID1Wo1RcKMBDX0I8w1n72P%2bDuowL2HlrYKLKkC0/EYC4r6giIsHz2IeMuZv4i11M1t9KspTCdsa64wGk8wGI4wHI3VtZQT9pN2M2KS9SgvYNrfL34XAvbPBRbyEqa5kvOL5TXv%2b3BSjKAQUPVg0GtidNnD8KKryn1InQWKdSWGQb%2bJof1sPOhbkOv99nKftbzA7qxAcoFdKPwNJaCTyONKPpU1NPVJ66Wb6a4WsD6DlU9jD8GQUk57mDZXHbiueXFFIu7DzYftKnvYq5PxNrkTK0TffpKr%2bXHGZOibS4DstXfjWUVEN1lAiblzK5ZV112pSxQOwKrvJHJoU8873wWJ2/fJb4nnUKkOkfp2BNinK91rZG0IIXphgLhsIHasDpJDH4b1TBKM9HfD3vtEYvmbouXRt5MA1UAe2pB4Ods0ES0NES0O1P67Kv8I4G%2bJsIxx8vufwX8VAUXVYHMLu2HxC/%2bY8CNw%2b9s2j4LMVeas/jAhLKSbkiRcKbH6GJtP1P8R8GW/Tf4zkNruCg%2bma5Q6DEb6K1R6/z8gcy1yzpec%2b/8Bqs4EXlSl%2bIgAAAAASUVORK5CYII=' /%3e%3c/svg%3e\" width=\"1122\" alt=\"trade-bot schema\" data-srcset=\"/assets/static/trade-bot-schema.82a2fbd.d69d0b55b50c28bed442c9d3a5423fa4.png 480w, /assets/static/trade-bot-schema.9739285.d69d0b55b50c28bed442c9d3a5423fa4.png 1122w\" data-sizes=\"(max-width: 1122px) 100vw, 1122px\" data-src=\"/assets/static/trade-bot-schema.9739285.d69d0b55b50c28bed442c9d3a5423fa4.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/trade-bot-schema.9739285.d69d0b55b50c28bed442c9d3a5423fa4.png\" width=\"1122\" alt=\"trade-bot schema\"></noscript></p>\n<h2 id=\"database\"><a href=\"#database\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Database</h2>\n<p><code>TradeBot</code> maps all info parsed from exchange to its own data types and saves it into local SQLite database. This database is created with <a href=\"https://www.prisma.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Prisma ORM</a>.</p>\n<p>Schema of local storage:</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 711 581' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-707fad71f9c7b84347f14d401d41afce'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-707fad71f9c7b84347f14d401d41afce)' width='711' height='581' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA0CAYAAAA62j4JAAAACXBIWXMAAAsSAAALEgHS3X78AAAHK0lEQVRo3uXaxa4cORQG4Lz/g2SZVZhRYWZmZuZ49Fn6r85YldzMTGdRPZbcdrlctg%2bDe02bWfnx40dvv3//3t6/f98%2bfPjQ66dPn9rnz597m36eaz/z1W/fvrU1c0XA69ev27Vr19qLFy/a48eP2%2b3bt9uNGzfarVu32t27d9v169f7871799rNmzf7s/7Tp0/bs2fP2oMHD/p3a%2bYEtDb9t2/ftnfv3q3MOX/%2bfDt06FA7cuRI27VrV9u/f3/bsWNHO3PmTB/buXNnO3HixN/WffLkyXw4IICnfPz4sVMYW798%2bbKz9Js3b9qjR486YoiHFqJwi/fGzH3%2b/Hmfp86KA75%2b/doBBvyFCxfa1atX2%2bHDhzvLHzt2rN2/f7%2bz%2bsWLF9vly5fbpUuXOmc8fPiwc8KpU6f6HN9DxCxEoLL9nTt3ugw7%2bPHjx3sLQJQENA4wtnnz5rZ9%2b/YuCnv37u2sv3Xr1rZu3bqONIUCnIUIVPkHaBWBK1eudBYHCIpqUfrVq1ddOarGfac1DkGecQ3OmBUCHDjPqE2beyYaKtNI4x89erRT/dy5cx0htP/Jkyd7H%2bKCwNmIQOWAagVQdCyAovRCcUii9DKW74lAR0Bk7L/W8bBVfhe19ogAtpxSpN1TjXN6vnz5slKrMxQnCEIWqgNGMzU%2bL2L9qgNQEEWnKorXGn0QnZDaPUE/JmGXWtnQak%2bD4XGehSJXIweghk3Hb2KTretbfRQZ5xkj11MIIPM5p31SrRVqo752nKPSId6t8QGHwqRs7CV7ytVkS5kOZkZbD6oPeWzrFAK4p8yW9TIfQthwGtx6bLM%2bWa1rOyRN7XxTImAuhWdeKGqMWFB%2bKsVnr3FtfefqVgA1ppQJmwv406dPt7Nnz65o0alCmYwyr9hkqrDh1uWscF9pbNQaSxCR4KdagVBxLAjpnM7MBf7Z2iuusA9QQiuQgGUbh92D3fTjQqoAR/3KmjmsgkLm4BL9UCAuKW6IdnaYurZnHFQPXxEaVxgSjFsX11ovYqWNtQi35txMY3eFyQE3EiWwHIzB3MGDB/uHdETVqrG5qnc24Y2lD/hQyXp79uzplIbkrEuczKuyWtcN0ACEBFrcWpAIMIhzZl4ebiKq1SVWcWxg8s45rGdfZ8X53Qw6NMxhLwNkUiTFjYxo%2bMCHYwWow5JhbZRZCnmMHnB4BxKVYc9frWtcQSWiiDtxBGAiy0GqOd5p7XfgwIG2b9%2b%2bjmgIhwhj27Zt64iPqEJqR4DFLaYl83WTkS3HGhGAvBQsV0XAPAiglCJKWNE3q61NJKsIOHQKCoblrW9te8TUZZ%2b8M48yDKFXXGELeaH4GJa4klgr5u1XBbDRATCLCyICEBhqOizlhBrZb7XiPFUJkvfqCgOsWh0cgOLEmBgk8JnyS4haV4IQAFMxLQCwmQn/1EHRt0Y2Mx5dERNG5iM%2bP6vhIOdK0sN4RcCUK2w%2bjone%2blVZcYVRmZwFowDQj%2b1erdoUJqc4wAYJUlAHMNYPV1STOeVFjgioaxvHxjl3tfGBYcq5yhxcqPZYIFmTf1tDsVCmckBkmKZmLbBmKDcq1BEpIwKqgo1I/JdzW3PhsUAVgSrro6%2bwWuQ3hYDaX1RZWDRYlVMUDG%2bP7QU8jYtlPTOb3gNQn4Ks8cTvIGBRdeEcgDWZKwCyKGQ/8YJ%2bHBrPbDc/wXM1d1mLFZgSgUVxwEIRMHUwNjgKL0HNz%2bbHAVJjgXw/KsHKAZn/b2sXgT%2bZu0fBxAosAjGoNaIx5RQZS8or61YFq8/O4zRzcVfdR5v8X3Wu8i6XJH8sJbZIRRWkVgUby1UvRrjZ3O3du3d3Z06swPHi1nOPiVtd84/lBP9USozTlmfigJqJQShf%2bmXMBuEinBi3OMmRXKnNJikakYrPgYX5FCwIyhIHvoZxYqcaB7hWXAHgxAoRj1ldjOCAeJMiPWGumAUStPTBhg0b2vr169uWLVvapk2bemzgee3atT3SrUp39neDY0aISLAgI9KSq2CeMy5WmPXtcGIAPgSHK94mPcD/oBSJRM1Z1rVmhYApZCQZio0T9pJ/2p8YbNy4sVsFyR15jrD90iCAHgBYIj7AyDTlFijjsQbV5/hbQmTOHABAoTwFaLymxHGCShzyT5L6PfM5exEAFKWXrBGK6ue6DOUBmeTu0umAULWG3LQ9zT%2bV0apKdKkQEOcIB7AIXGH5x2oSx1zDUiGgZqB%2b99J2aTmAKaThxxurkROWEgGsgAyT6lLUc76pmeilFYFc0v7O90srAvEBKEO5AVwgD8lXiLlcagSI%2bcm%2bd/lbLEAhol6WLK0IrJaJWmoR4BaLB9wMJwKsFy//C0eo3lL9LKReWgTkH6HaZH0TNv8vXGFAi/5ofCkzFsF/HzhGU/mAWaXERgTICI3B0NTly8%2bKcHg2f5efQkCu9evlR718Yfbq5ct48eI9LvoLnSqylPnZHbcAAAAASUVORK5CYII=' /%3e%3c/svg%3e\" width=\"711\" alt=\"database types\" data-srcset=\"/assets/static/db-schema.e567930.968d856a59ef8ef96a415b849ebd5751.png 711w\" data-sizes=\"(max-width: 711px) 100vw, 711px\" data-src=\"/assets/static/db-schema.e567930.968d856a59ef8ef96a415b849ebd5751.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/db-schema.e567930.968d856a59ef8ef96a415b849ebd5751.png\" width=\"711\" alt=\"database types\"></noscript></p>\n","sidebar":"docs","next":"","prev":"","headings":[{"depth":1,"value":"Architecture","anchor":"#architecture"},{"depth":2,"value":"Database","anchor":"#database"}]},"allMarkdownPage":{"edges":[{"node":{"path":"/docs/trade-bot/trade-bot/","title":"class TradeBot{}"}},{"node":{"path":"/docs/trade-bot/exchange-client/","title":"class ExchangeClient{}"}},{"node":{"path":"/docs/trade-bot/db-types/","title":"@badlabs/trade-bot__db-types"}},{"node":{"path":"/docs/trade-bot/architecture/","title":"Architecture"}},{"node":{"path":"/docs/","title":"Introduction"}}]}},"context":{}}